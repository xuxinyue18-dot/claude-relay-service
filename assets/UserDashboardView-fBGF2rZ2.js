import{r as w,_ as O,o as E,x as a,L as p,y as l,z as e,Y,K as F,aq as R,P as r,O as M,C as I,c as z,q as H,R as D,Q as N,ac as q,aV as W,aT as G,u as J,J as Q,aU as X}from"./vue-vendor-R8HMg95E.js";import{_ as B,b as L,s as _,a as Z}from"./index-CGcTkEyx.js";import{T as ee}from"./ThemeToggle-DSVKnmin.js";import{_ as te}from"./Badge-DRvsZhbG.js";import{C as se}from"./ConfirmModal-C19nb4yU.js";import oe from"./TutorialView-DO-QYolD.js";import"./element-plus-BUfCkBQO.js";import"./vendor-Dr8jvgFu.js";const re={key:0,class:"fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600 bg-opacity-50"},ae={class:"relative top-20 mx-auto w-[768px] max-w-4xl rounded-md border bg-white p-5 shadow-lg"},le={class:"mt-3"},ie={class:"mb-4 flex items-center justify-between"},de=["disabled"],ne=["disabled"],ce={key:0,class:"rounded-md border border-red-200 bg-red-50 p-3"},ue={class:"flex"},me={class:"ml-3"},xe={class:"text-sm text-red-700"},ge={class:"flex justify-end space-x-3 pt-4"},ye=["disabled"],ve=["disabled"],pe={key:0,class:"flex items-center"},fe={key:1},he={key:0,class:"mt-6 rounded-md border border-green-200 bg-green-50 p-4"},ke={class:"flex items-start"},we={class:"ml-3 flex-1"},be={class:"mt-3"},_e={class:"rounded-md border border-green-300 bg-white p-3"},$e={class:"flex items-center justify-between"},Ae={class:"break-all font-mono text-sm text-gray-900"},Ce={__name:"UserCreateApiKeyModal",props:{show:{type:Boolean,default:!1}},emits:["close","created"],setup(x,{emit:b}){const f=x,h=b,m=L(),g=w(!1),y=w(""),v=w(null),s=O({name:"",description:""}),o=()=>{s.name="",s.description="",y.value="",v.value=null},$=async()=>{var d,t;if(!s.name.trim()){y.value="API key name is required";return}g.value=!0,y.value="";try{const i={name:s.name.trim(),description:s.description.trim()||void 0},k=await m.createApiKey(i);k.success?(v.value=k.apiKey,_("API key created successfully!","success")):y.value=k.message||"Failed to create API key"}catch(i){console.error("Create API key error:",i),y.value=((t=(d=i.response)==null?void 0:d.data)==null?void 0:t.message)||i.message||"Failed to create API key"}finally{g.value=!1}},A=async d=>{try{await navigator.clipboard.writeText(d),_("API key copied to clipboard!","success")}catch(t){console.error("Failed to copy:",t),_("Failed to copy to clipboard","error")}},C=()=>{o(),h("created"),h("close")};return E(()=>f.show,d=>{d&&o()}),(d,t)=>x.show?(l(),a("div",re,[e("div",ae,[e("div",le,[e("div",ie,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-gray-900"},"Create New API Key",-1)),e("button",{class:"text-gray-400 hover:text-gray-600",onClick:t[0]||(t[0]=i=>d.$emit("close"))},t[5]||(t[5]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M6 18L18 6M6 6l12 12","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)]))]),e("form",{class:"space-y-4",onSubmit:Y($,["prevent"])},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700",for:"name"}," Name * ",-1)),F(e("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=i=>s.name=i),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",disabled:g.value,placeholder:"Enter API key name",required:"",type:"text"},null,8,de),[[R,s.name]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700",for:"description"}," Description ",-1)),F(e("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=i=>s.description=i),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",disabled:g.value,placeholder:"Optional description",rows:"3"},null,8,ne),[[R,s.description]])]),y.value?(l(),a("div",ce,[e("div",ue,[t[9]||(t[9]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"clip-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","fill-rule":"evenodd"})])],-1)),e("div",me,[e("p",xe,r(y.value),1)])])])):p("",!0),e("div",ge,[e("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",disabled:g.value,type:"button",onClick:t[3]||(t[3]=i=>d.$emit("close"))}," Cancel ",8,ye),e("button",{class:"rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",disabled:g.value||!s.name.trim(),type:"submit"},[g.value?(l(),a("span",pe,t[10]||(t[10]=[e("svg",{class:"-ml-1 mr-2 h-4 w-4 animate-spin text-white",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})],-1),M(" Creating... ",-1)]))):(l(),a("span",fe,"Create API Key"))],8,ve)])],32),v.value?(l(),a("div",he,[e("div",ke,[t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"clip-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","fill-rule":"evenodd"})])],-1)),e("div",we,[t[13]||(t[13]=e("h4",{class:"text-sm font-medium text-green-800"},"API Key Created Successfully!",-1)),e("div",be,[t[12]||(t[12]=e("p",{class:"mb-2 text-sm text-green-700"},[e("strong",null,"Important:"),M(" Copy your API key now. You won't be able to see it again! ")],-1)),e("div",_e,[e("div",$e,[e("code",Ae,r(v.value.key),1),e("button",{class:"ml-3 inline-flex flex-shrink-0 items-center rounded border border-transparent bg-green-100 px-2 py-1 text-xs font-medium text-green-700 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",onClick:t[4]||(t[4]=i=>A(v.value.key))},t[11]||(t[11]=[e("svg",{class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1),M(" Copy ",-1)]))])])]),e("div",{class:"mt-4 flex justify-end"},[e("button",{class:"rounded-md border border-transparent bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",onClick:C}," Done ")])])])])):p("",!0)])])])):p("",!0)}},Me=B(Ce,[["__scopeId","data-v-a02d6555"]]),De={key:0,class:"fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600 bg-opacity-50"},Ie={class:"relative top-20 mx-auto w-[768px] max-w-4xl rounded-md border bg-white p-5 shadow-lg"},Pe={class:"mt-3"},Ue={class:"mb-4 flex items-center justify-between"},je={key:0,class:"space-y-4"},Ke={class:"mt-1 text-sm text-gray-900"},Te={key:0},Ve={class:"mt-1 text-sm text-gray-900"},Be={class:"mt-1 flex items-center space-x-2"},Se={class:"flex-1"},ze={key:0,class:"rounded-md border border-gray-300 bg-gray-50 p-3"},Le={class:"break-all font-mono text-sm text-gray-900"},Fe={key:1,class:"rounded-md border border-gray-300 bg-gray-50 p-3"},Ne={class:"font-mono text-sm text-gray-900"},qe={class:"flex flex-col space-y-1"},He={key:0,class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re={key:1,class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oe={key:0,class:"mt-1 text-xs text-gray-500"},Ee={class:"mt-1"},Ye={key:1,class:"border-t border-gray-200 pt-4"},We={class:"grid grid-cols-2 gap-4 text-sm"},Ge={class:"ml-2 font-medium"},Je={class:"ml-2 font-medium"},Qe={class:"ml-2 font-medium"},Xe={class:"ml-2 font-medium"},Ze={class:"space-y-2 border-t border-gray-200 pt-4 text-sm"},et={class:"flex justify-between"},tt={class:"text-gray-900"},st={key:0,class:"flex justify-between"},ot={class:"text-gray-900"},rt={key:1,class:"flex justify-between"},at={class:"flex justify-end pt-4"},lt={__name:"ViewApiKeyModal",props:{show:{type:Boolean,default:!1},apiKey:{type:Object,default:null}},emits:["close"],setup(x,{emit:b}){const f=b,h=w(!1),m=v=>v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toString(),g=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,y=async v=>{try{await navigator.clipboard.writeText(v),_("Copied to clipboard!","success")}catch(s){console.error("Failed to copy:",s),_("Failed to copy to clipboard","error")}};return(v,s)=>x.show?(l(),a("div",De,[e("div",Ie,[e("div",Pe,[e("div",Ue,[s[5]||(s[5]=e("h3",{class:"text-lg font-medium text-gray-900"},"API Key Details",-1)),e("button",{class:"text-gray-400 hover:text-gray-600",onClick:s[0]||(s[0]=o=>f("close"))},s[4]||(s[4]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M6 18L18 6M6 6l12 12","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)]))]),x.apiKey?(l(),a("div",je,[e("div",null,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("p",Ke,r(x.apiKey.name),1)]),x.apiKey.description?(l(),a("div",Te,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),e("p",Ve,r(x.apiKey.description),1)])):p("",!0),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"API Key",-1)),e("div",Be,[e("div",Se,[h.value?(l(),a("div",ze,[e("code",Le,r(x.apiKey.key||"Not available"),1)])):(l(),a("div",Fe,[e("code",Ne,r(x.apiKey.keyPreview||"cr_****"),1)]))]),e("div",qe,[x.apiKey.key?(l(),a("button",{key:0,class:"inline-flex items-center rounded border border-gray-300 bg-white px-2 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:s[1]||(s[1]=o=>h.value=!h.value)},[h.value?(l(),a("svg",He,s[8]||(s[8]=[e("path",{d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L12 12m-1.122-2.122L12 12m-1.122-2.122l-4.243-4.242m6.879 6.878L15 15","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1)]))):(l(),a("svg",Re,s[9]||(s[9]=[e("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1),e("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1)]))),M(" "+r(h.value?"Hide":"Show"),1)])):p("",!0),h.value&&x.apiKey.key?(l(),a("button",{key:1,class:"inline-flex items-center rounded border border-gray-300 bg-white px-2 py-1 text-xs font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:s[2]||(s[2]=o=>y(x.apiKey.key))},s[10]||(s[10]=[e("svg",{class:"mr-1 h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1),M(" Copy ",-1)]))):p("",!0)])]),x.apiKey.key?p("",!0):(l(),a("p",Oe," Full API key is only shown when first created or regenerated "))]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),e("div",Ee,[e("span",{class:I(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",x.apiKey.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(x.apiKey.isActive?"Active":"Disabled"),3)])]),x.apiKey.usage?(l(),a("div",Ye,[s[17]||(s[17]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700"},"Usage Statistics",-1)),e("div",We,[e("div",null,[s[13]||(s[13]=e("span",{class:"text-gray-500"},"Requests:",-1)),e("span",Ge,r(m(x.apiKey.usage.requests||0)),1)]),e("div",null,[s[14]||(s[14]=e("span",{class:"text-gray-500"},"Input Tokens:",-1)),e("span",Je,r(m(x.apiKey.usage.inputTokens||0)),1)]),e("div",null,[s[15]||(s[15]=e("span",{class:"text-gray-500"},"Output Tokens:",-1)),e("span",Qe,r(m(x.apiKey.usage.outputTokens||0)),1)]),e("div",null,[s[16]||(s[16]=e("span",{class:"text-gray-500"},"Total Cost:",-1)),e("span",Xe,"$"+r((x.apiKey.usage.totalCost||0).toFixed(4)),1)])])])):p("",!0),e("div",Ze,[e("div",et,[s[18]||(s[18]=e("span",{class:"text-gray-500"},"Created:",-1)),e("span",tt,r(g(x.apiKey.createdAt)),1)]),x.apiKey.lastUsedAt?(l(),a("div",st,[s[19]||(s[19]=e("span",{class:"text-gray-500"},"Last Used:",-1)),e("span",ot,r(g(x.apiKey.lastUsedAt)),1)])):p("",!0),x.apiKey.expiresAt?(l(),a("div",rt,[s[20]||(s[20]=e("span",{class:"text-gray-500"},"Expires:",-1)),e("span",{class:I(["font-medium",new Date(x.apiKey.expiresAt)<new Date?"text-red-600":"text-gray-900"])},r(g(x.apiKey.expiresAt)),3)])):p("",!0)]),e("div",at,[e("button",{class:"rounded-md border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:s[3]||(s[3]=o=>f("close"))}," Close ")])])):p("",!0)])])])):p("",!0)}},it=B(lt,[["__scopeId","data-v-4fac9ff8"]]),dt={class:"space-y-6"},nt={class:"sm:flex sm:items-center"},ct={class:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},ut=["disabled"],mt={key:0,class:"rounded-md border border-yellow-200 bg-yellow-50 p-4"},xt={class:"flex"},gt={class:"ml-3"},yt={class:"text-sm text-yellow-700"},vt={key:1,class:"py-12 text-center"},pt={key:2,class:"overflow-hidden bg-white shadow sm:rounded-md"},ft={class:"divide-y divide-gray-200",role:"list"},ht={class:"flex items-center justify-between"},kt={class:"flex items-center"},wt={class:"flex-shrink-0"},bt={class:"ml-4"},_t={class:"flex items-center"},$t={class:"text-sm font-medium text-gray-900"},At={key:0,class:"ml-2 inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},Ct={key:1,class:"ml-2 inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"},Mt={class:"mt-1"},Dt={class:"text-sm text-gray-500"},It={class:"mt-1 flex items-center space-x-4 text-xs text-gray-400"},Pt={key:0},Ut={key:1},jt={key:2},Kt={key:3},Tt={class:"flex items-center space-x-2"},Vt={class:"text-right text-xs text-gray-500"},Bt={key:0},St={class:"flex items-center space-x-1"},zt=["onClick"],Lt=["onClick"],Ft={key:3,class:"py-12 text-center"},Nt={class:"mt-6"},qt={__name:"UserApiKeysManager",setup(x){const b=L(),f=w(!0),h=w([]),m=z(()=>{var c;return((c=b.config)==null?void 0:c.maxApiKeysPerUser)||5}),g=z(()=>{var c;return((c=b.config)==null?void 0:c.allowUserDeleteApiKeys)===!0}),y=w(!1),v=w(!1),s=w(!1),o=w(null),$=z(()=>[...h.value].sort((c,u)=>{const j=new Date(c.createdAt);return new Date(u.createdAt)-j})),A=z(()=>h.value.filter(c=>!(c.isDeleted==="true"||c.deletedAt)).length),C=c=>c>=1e6?(c/1e6).toFixed(1)+"M":c>=1e3?(c/1e3).toFixed(1)+"K":c.toString(),d=c=>c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,t=async()=>{f.value=!0;try{h.value=await b.getUserApiKeys(!0)}catch(c){console.error("Failed to load API keys:",c),_("Failed to load API keys","error")}finally{f.value=!1}},i=c=>{o.value=c,v.value=!0},k=c=>{o.value=c,s.value=!0},P=async()=>{try{(await b.deleteApiKey(o.value.id)).success&&(_("API key deleted successfully","success"),await t())}catch(c){console.error("Failed to delete API key:",c),_("Failed to delete API key","error")}finally{s.value=!1,o.value=null}},U=async()=>{y.value=!1,await t()};return H(()=>{t()}),(c,u)=>{var j;return l(),a("div",dt,[e("div",nt,[u[6]||(u[6]=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"My API Keys"),e("p",{class:"mt-2 text-sm text-gray-700"}," Manage your API keys to access Claude Relay services ")],-1)),e("div",ct,[e("button",{class:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 sm:w-auto",disabled:A.value>=m.value,onClick:u[0]||(u[0]=n=>y.value=!0)},u[5]||(u[5]=[e("svg",{class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 6v6m0 0v6m0-6h6m-6 0H6","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1),M(" Create API Key ",-1)]),8,ut)])]),A.value>=m.value?(l(),a("div",mt,[e("div",xt,[u[7]||(u[7]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"clip-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","fill-rule":"evenodd"})])],-1)),e("div",gt,[e("p",yt," You have reached the maximum number of API keys ("+r(m.value)+"). Please delete an existing key to create a new one. ",1)])])])):p("",!0),f.value?(l(),a("div",vt,u[8]||(u[8]=[e("svg",{class:"mx-auto h-8 w-8 animate-spin text-primary-600",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Loading API keys...",-1)]))):$.value.length>0?(l(),a("div",pt,[e("ul",ft,[(l(!0),a(N,null,q($.value,n=>{var T,V;return l(),a("li",{key:n.id,class:"px-6 py-4"},[e("div",ht,[e("div",kt,[e("div",wt,[e("div",{class:I(["h-2 w-2 rounded-full",n.isDeleted==="true"||n.deletedAt?"bg-gray-400":n.isActive?"bg-green-400":"bg-red-400"])},null,2)]),e("div",bt,[e("div",_t,[e("p",$t,r(n.name),1),n.isDeleted==="true"||n.deletedAt?(l(),a("span",At," Deleted ")):n.isActive?p("",!0):(l(),a("span",Ct," Deleted "))]),e("div",Mt,[e("p",Dt,r(n.description||"No description"),1),e("div",It,[e("span",null,"Created: "+r(d(n.createdAt)),1),n.isDeleted==="true"||n.deletedAt?(l(),a("span",Pt,"Deleted: "+r(d(n.deletedAt)),1)):n.lastUsedAt?(l(),a("span",Ut,"Last used: "+r(d(n.lastUsedAt)),1)):(l(),a("span",jt,"Never used")),n.expiresAt&&!(n.isDeleted==="true"||n.deletedAt)?(l(),a("span",Kt,"Expires: "+r(d(n.expiresAt)),1)):p("",!0)])])])]),e("div",Tt,[e("div",Vt,[e("div",null,r(C(((T=n.usage)==null?void 0:T.requests)||0))+" requests",1),(V=n.usage)!=null&&V.totalCost?(l(),a("div",Bt,"$"+r(n.usage.totalCost.toFixed(4)),1)):p("",!0)]),e("div",St,[e("button",{class:"inline-flex items-center rounded border border-transparent p-1 text-gray-400 hover:text-gray-600",title:"View API Key",onClick:S=>i(n)},u[9]||(u[9]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"}),e("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)]),8,zt),!(n.isDeleted==="true"||n.deletedAt)&&n.isActive&&g.value?(l(),a("button",{key:0,class:"inline-flex items-center rounded border border-transparent p-1 text-red-400 hover:text-red-600",title:"Delete API Key",onClick:S=>k(n)},u[10]||(u[10]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)]),8,Lt)):p("",!0)])])])])}),128))])])):(l(),a("div",Ft,[u[12]||(u[12]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2m-2-2h-6m6 0v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9a2 2 0 012-2h6z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1)),u[13]||(u[13]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No API keys",-1)),u[14]||(u[14]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating your first API key.",-1)),e("div",Nt,[e("button",{class:"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:u[1]||(u[1]=n=>y.value=!0)},u[11]||(u[11]=[e("svg",{class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 6v6m0 0v6m0-6h6m-6 0H6","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1),M(" Create API Key ",-1)]))])])),D(Me,{show:y.value,onClose:u[2]||(u[2]=n=>y.value=!1),onCreated:U},null,8,["show"]),D(it,{"api-key":o.value,show:v.value,onClose:u[3]||(u[3]=n=>v.value=!1)},null,8,["api-key","show"]),D(se,{"confirm-class":"bg-red-600 hover:bg-red-700","confirm-text":"Delete",message:`Are you sure you want to delete '${(j=o.value)==null?void 0:j.name}'? This action cannot be undone.`,show:s.value,title:"Delete API Key",onCancel:u[4]||(u[4]=n=>s.value=!1),onConfirm:P},null,8,["message","show"])])}}},Ht=B(qt,[["__scopeId","data-v-765e80fb"]]),Rt={class:"space-y-6"},Ot={class:"sm:flex sm:items-center"},Et={class:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none"},Yt={key:0,class:"py-12 text-center"},Wt={key:1,class:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4"},Gt={class:"overflow-hidden rounded-lg bg-white shadow"},Jt={class:"p-5"},Qt={class:"flex items-center"},Xt={class:"ml-5 w-0 flex-1"},Zt={class:"text-lg font-medium text-gray-900"},es={class:"overflow-hidden rounded-lg bg-white shadow"},ts={class:"p-5"},ss={class:"flex items-center"},os={class:"ml-5 w-0 flex-1"},rs={class:"text-lg font-medium text-gray-900"},as={class:"overflow-hidden rounded-lg bg-white shadow"},ls={class:"p-5"},is={class:"flex items-center"},ds={class:"ml-5 w-0 flex-1"},ns={class:"text-lg font-medium text-gray-900"},cs={class:"overflow-hidden rounded-lg bg-white shadow"},us={class:"p-5"},ms={class:"flex items-center"},xs={class:"ml-5 w-0 flex-1"},gs={class:"text-lg font-medium text-gray-900"},ys={key:2,class:"rounded-lg bg-white shadow"},vs={key:3,class:"rounded-lg bg-white shadow"},ps={class:"px-4 py-5 sm:p-6"},fs={class:"space-y-3"},hs={class:"flex items-center"},ks={class:"ml-3"},ws={class:"text-sm font-medium text-gray-900"},bs={class:"text-right"},_s={class:"text-sm text-gray-900"},$s={class:"text-xs text-gray-500"},As={key:4,class:"rounded-lg bg-white shadow"},Cs={class:"px-4 py-5 sm:p-6"},Ms={class:"overflow-hidden"},Ds={class:"min-w-full divide-y divide-gray-200"},Is={class:"divide-y divide-gray-200 bg-white"},Ps={class:"whitespace-nowrap px-6 py-4"},Us={class:"text-sm font-medium text-gray-900"},js={class:"text-sm text-gray-500"},Ks={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Ts={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Vs={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Bs={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Ss={class:"whitespace-nowrap px-6 py-4"},zs={key:5,class:"py-12 text-center"},Ls={__name:"UserUsageStats",setup(x){const b=L(),f=w(!0),h=w("week"),m=w(null),g=w([]),y=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),v=async()=>{f.value=!0;try{const[s,o]=await Promise.all([b.getUserUsageStats({period:h.value}),b.getUserApiKeys(!0)]);m.value=s,g.value=o}catch(s){console.error("Failed to load usage stats:",s),_("Failed to load usage statistics","error")}finally{f.value=!1}};return H(()=>{v()}),(s,o)=>{var $,A,C,d,t;return l(),a("div",Rt,[e("div",Ot,[o[2]||(o[2]=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Usage Statistics"),e("p",{class:"mt-2 text-sm text-gray-700"},"View your API usage statistics and costs")],-1)),e("div",Et,[F(e("select",{"onUpdate:modelValue":o[0]||(o[0]=i=>h.value=i),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",onChange:v},o[1]||(o[1]=[e("option",{value:"day"},"Last 24 Hours",-1),e("option",{value:"week"},"Last 7 Days",-1),e("option",{value:"month"},"Last 30 Days",-1),e("option",{value:"quarter"},"Last 90 Days",-1)]),544),[[W,h.value]])])]),f.value?(l(),a("div",Yt,o[3]||(o[3]=[e("svg",{class:"mx-auto h-8 w-8 animate-spin text-primary-600",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Loading usage statistics...",-1)]))):(l(),a("div",Wt,[e("div",Gt,[e("div",Jt,[e("div",Qt,[o[5]||(o[5]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M13 10V3L4 14h7v7l9-11h-7z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",Xt,[e("dl",null,[o[4]||(o[4]=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Requests",-1)),e("dd",Zt,r(y((($=m.value)==null?void 0:$.totalRequests)||0)),1)])])])])]),e("div",es,[e("div",ts,[e("div",ss,[o[7]||(o[7]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",os,[e("dl",null,[o[6]||(o[6]=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Input Tokens",-1)),e("dd",rs,r(y(((A=m.value)==null?void 0:A.totalInputTokens)||0)),1)])])])])]),e("div",as,[e("div",ls,[e("div",is,[o[9]||(o[9]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-magenta-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",ds,[e("dl",null,[o[8]||(o[8]=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Output Tokens",-1)),e("dd",ns,r(y(((C=m.value)==null?void 0:C.totalOutputTokens)||0)),1)])])])])]),e("div",cs,[e("div",us,[e("div",ms,[o[11]||(o[11]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",xs,[e("dl",null,[o[10]||(o[10]=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Cost",-1)),e("dd",gs," $"+r((((d=m.value)==null?void 0:d.totalCost)||0).toFixed(4)),1)])])])])])])),!f.value&&m.value?(l(),a("div",ys,o[12]||(o[12]=[G('<div class="px-4 py-5 sm:p-6" data-v-185c3ff5><h3 class="mb-4 text-lg font-medium leading-6 text-gray-900" data-v-185c3ff5>Daily Usage Trend</h3><div class="flex h-64 items-center justify-center rounded-lg border-2 border-dashed border-gray-300" data-v-185c3ff5><div class="text-center" data-v-185c3ff5><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-185c3ff5><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-185c3ff5></path></svg><h3 class="mt-2 text-sm font-medium text-gray-900" data-v-185c3ff5>Usage Chart</h3><p class="mt-1 text-sm text-gray-500" data-v-185c3ff5>Daily usage trends would be displayed here</p><p class="mt-2 text-xs text-gray-400" data-v-185c3ff5> (Chart integration can be added with Chart.js, D3.js, or similar library) </p></div></div></div>',1)]))):p("",!0),!f.value&&m.value&&((t=m.value.modelStats)==null?void 0:t.length)>0?(l(),a("div",vs,[e("div",ps,[o[14]||(o[14]=e("h3",{class:"mb-4 text-lg font-medium leading-6 text-gray-900"},"Usage by Model",-1)),e("div",fs,[(l(!0),a(N,null,q(m.value.modelStats,i=>(l(),a("div",{key:i.name,class:"flex items-center justify-between"},[e("div",hs,[o[13]||(o[13]=e("div",{class:"flex-shrink-0"},[e("div",{class:"h-2 w-2 rounded-full bg-primary-500"})],-1)),e("div",ks,[e("p",ws,r(i.name),1)])]),e("div",bs,[e("p",_s,r(y(i.requests))+" requests",1),e("p",$s,"$"+r(i.cost.toFixed(4)),1)])]))),128))])])])):p("",!0),!f.value&&g.value.length>0?(l(),a("div",As,[e("div",Cs,[o[16]||(o[16]=e("h3",{class:"mb-4 text-lg font-medium leading-6 text-gray-900"},"Usage by API Key",-1)),e("div",Ms,[e("table",Ds,[o[15]||(o[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",scope:"col"}," API Key "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",scope:"col"}," Requests "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",scope:"col"}," Input Tokens "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",scope:"col"}," Output Tokens "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",scope:"col"}," Cost "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",scope:"col"}," Status ")])],-1)),e("tbody",Is,[(l(!0),a(N,null,q(g.value,i=>{var k,P,U,c;return l(),a("tr",{key:i.id},[e("td",Ps,[e("div",Us,r(i.name),1),e("div",js,r(i.keyPreview),1)]),e("td",Ks,r(y(((k=i.usage)==null?void 0:k.requests)||0)),1),e("td",Ts,r(y(((P=i.usage)==null?void 0:P.inputTokens)||0)),1),e("td",Vs,r(y(((U=i.usage)==null?void 0:U.outputTokens)||0)),1),e("td",Bs," $"+r((((c=i.usage)==null?void 0:c.totalCost)||0).toFixed(4)),1),e("td",Ss,[e("span",{class:I(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",i.isDeleted==="true"||i.deletedAt?"bg-gray-100 text-gray-800":i.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(i.isDeleted==="true"||i.deletedAt?"Deleted":i.isActive?"Active":"Disabled"),3)])])}),128))])])])])])):p("",!0),!f.value&&(!m.value||m.value.totalRequests===0)?(l(),a("div",zs,o[17]||(o[17]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No usage data",-1),e("p",{class:"mt-1 text-sm text-gray-500"}," You haven't made any API requests yet. Create an API key and start using the service to see usage statistics. ",-1)]))):p("",!0)])}}},Fs=B(Ls,[["__scopeId","data-v-185c3ff5"]]),Ns={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},qs={class:"bg-white shadow dark:bg-gray-800"},Hs={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Rs={class:"flex h-16 justify-between"},Os={class:"flex items-center"},Es={class:"ml-10"},Ys={class:"flex items-baseline space-x-4"},Ws={class:"flex items-center space-x-4"},Gs={class:"text-sm text-gray-700 dark:text-gray-300"},Js={class:"font-medium"},Qs={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},Xs={key:0,class:"space-y-6"},Zs={class:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-5"},eo={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},to={class:"p-5"},so={class:"flex items-center"},oo={class:"ml-5 w-0 flex-1"},ro={class:"text-lg font-medium text-gray-900 dark:text-white"},ao={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},lo={class:"p-5"},io={class:"flex items-center"},no={class:"ml-5 w-0 flex-1"},co={class:"text-lg font-medium text-gray-900 dark:text-white"},uo={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},mo={class:"p-5"},xo={class:"flex items-center"},go={class:"ml-5 w-0 flex-1"},yo={class:"text-lg font-medium text-gray-900 dark:text-white"},vo={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},po={class:"p-5"},fo={class:"flex items-center"},ho={class:"ml-5 w-0 flex-1"},ko={class:"text-lg font-medium text-gray-900 dark:text-white"},wo={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},bo={class:"p-5"},_o={class:"flex items-center"},$o={class:"ml-5 w-0 flex-1"},Ao={class:"text-lg font-medium text-gray-900 dark:text-white"},Co={class:"rounded-lg bg-white shadow dark:bg-gray-800"},Mo={class:"px-4 py-5 sm:p-6"},Do={class:"mt-5 border-t border-gray-200 dark:border-gray-700"},Io={class:"divide-y divide-gray-200 dark:divide-gray-700"},Po={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},Uo={class:"mt-1 text-sm text-gray-900 dark:text-white sm:col-span-2 sm:mt-0"},jo={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},Ko={class:"mt-1 text-sm text-gray-900 dark:text-white sm:col-span-2 sm:mt-0"},To={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},Vo={class:"mt-1 text-sm text-gray-900 dark:text-white sm:col-span-2 sm:mt-0"},Bo={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},So={class:"mt-1 text-sm text-gray-900 dark:text-white sm:col-span-2 sm:mt-0"},zo={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},Lo={class:"mt-1 text-sm text-gray-900 dark:text-white sm:col-span-2 sm:mt-0"},Fo={class:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},No={class:"mt-1 text-sm text-gray-900 dark:text-white sm:col-span-2 sm:mt-0"},qo={key:1},Ho={key:2},Ro={key:3,class:"space-y-6"},Oo={__name:"UserDashboardView",setup(x){const b=X(),f=L(),h=Z(),m=w("overview"),g=w(null),y=w({active:0,deleted:0}),v=d=>d>=1e6?(d/1e6).toFixed(1)+"M":d>=1e3?(d/1e3).toFixed(1)+"K":d.toString(),s=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,o=d=>{m.value=d,d==="overview"&&C()},$=async()=>{try{await f.logout(),_("Logged out successfully","success"),b.push("/user-login")}catch{_("Logout failed","error")}},A=async()=>{try{g.value=await f.getUserProfile()}catch(d){console.error("Failed to load user profile:",d),_("Failed to load user profile","error")}},C=async()=>{try{const d=await f.getUserApiKeys(!0);console.log("All API Keys received:",d);const t=d.filter(k=>!(k.isDeleted==="true"||k.deletedAt)&&k.isActive),i=d.filter(k=>k.isDeleted==="true"||k.deletedAt);console.log("Active keys:",t),console.log("Deleted keys:",i),console.log("Active count:",t.length),console.log("Deleted count:",i.length),y.value={active:t.length,deleted:i.length}}catch(d){console.error("Failed to load API keys stats:",d),y.value={active:0,deleted:0}}};return H(()=>{h.initTheme(),A(),C()}),(d,t)=>{var i,k,P,U,c,u,j,n,T,V,S;return l(),a("div",Ns,[e("nav",qs,[e("div",Hs,[e("div",Rs,[e("div",Os,[t[4]||(t[4]=e("div",{class:"flex flex-shrink-0 items-center"},[e("svg",{class:"h-8 w-8 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})]),e("span",{class:"ml-2 text-xl font-bold text-gray-900 dark:text-white"},"Claude Relay")],-1)),e("div",Es,[e("div",Ys,[e("button",{class:I(["rounded-md px-3 py-2 text-sm font-medium",m.value==="overview"?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[0]||(t[0]=K=>o("overview"))}," Overview ",2),e("button",{class:I(["rounded-md px-3 py-2 text-sm font-medium",m.value==="api-keys"?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[1]||(t[1]=K=>o("api-keys"))}," API Keys ",2),e("button",{class:I(["rounded-md px-3 py-2 text-sm font-medium",m.value==="usage"?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[2]||(t[2]=K=>o("usage"))}," Usage Stats ",2),e("button",{class:I(["rounded-md px-3 py-2 text-sm font-medium",m.value==="tutorial"?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[3]||(t[3]=K=>o("tutorial"))}," Tutorial ",2)])])]),e("div",Ws,[e("div",Gs,[t[5]||(t[5]=M(" Welcome, ",-1)),e("span",Js,r(J(f).userName),1)]),D(ee,{mode:"icon"}),e("button",{class:"rounded-md px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",onClick:$}," Logout ")])])])]),e("main",Qs,[m.value==="overview"?(l(),a("div",Xs,[t[23]||(t[23]=e("div",null,[e("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-white"},"Dashboard Overview"),e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Welcome to your Claude Relay dashboard ")],-1)),e("div",Zs,[e("div",eo,[e("div",to,[e("div",so,[t[7]||(t[7]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2m-2-2h-6m6 0v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9a2 2 0 012-2h6z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",oo,[e("dl",null,[t[6]||(t[6]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Active API Keys ",-1)),e("dd",ro,r(y.value.active),1)])])])])]),e("div",ao,[e("div",lo,[e("div",io,[t[9]||(t[9]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",no,[e("dl",null,[t[8]||(t[8]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Deleted API Keys ",-1)),e("dd",co,r(y.value.deleted),1)])])])])]),e("div",uo,[e("div",mo,[e("div",xo,[t[11]||(t[11]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M13 10V3L4 14h7v7l9-11h-7z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",go,[e("dl",null,[t[10]||(t[10]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Total Requests ",-1)),e("dd",yo,r(v(((k=(i=g.value)==null?void 0:i.totalUsage)==null?void 0:k.requests)||0)),1)])])])])]),e("div",vo,[e("div",po,[e("div",fo,[t[13]||(t[13]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",ho,[e("dl",null,[t[12]||(t[12]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Input Tokens ",-1)),e("dd",ko,r(v(((U=(P=g.value)==null?void 0:P.totalUsage)==null?void 0:U.inputTokens)||0)),1)])])])])]),e("div",wo,[e("div",bo,[e("div",_o,[t[15]||(t[15]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})])],-1)),e("div",$o,[e("dl",null,[t[14]||(t[14]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Total Cost ",-1)),e("dd",Ao," $"+r((((u=(c=g.value)==null?void 0:c.totalUsage)==null?void 0:u.totalCost)||0).toFixed(4)),1)])])])])])]),e("div",Co,[e("div",Mo,[t[22]||(t[22]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-white"}," Account Information ",-1)),e("div",Do,[e("dl",Io,[e("div",Po,[t[16]||(t[16]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Username",-1)),e("dd",Uo,r((j=g.value)==null?void 0:j.username),1)]),e("div",jo,[t[17]||(t[17]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Display Name",-1)),e("dd",Ko,r(((n=g.value)==null?void 0:n.displayName)||"N/A"),1)]),e("div",To,[t[18]||(t[18]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Email",-1)),e("dd",Vo,r(((T=g.value)==null?void 0:T.email)||"N/A"),1)]),e("div",Bo,[t[19]||(t[19]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Role",-1)),e("dd",So,[D(te,{variant:"primary"},{default:Q(()=>{var K;return[M(r(((K=g.value)==null?void 0:K.role)||"user"),1)]}),_:1})])]),e("div",zo,[t[20]||(t[20]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Member Since",-1)),e("dd",Lo,r(s((V=g.value)==null?void 0:V.createdAt)),1)]),e("div",Fo,[t[21]||(t[21]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Last Login",-1)),e("dd",No,r(s((S=g.value)==null?void 0:S.lastLoginAt)||"N/A"),1)])])])])])])):m.value==="api-keys"?(l(),a("div",qo,[D(Ht)])):m.value==="usage"?(l(),a("div",Ho,[D(Fs)])):m.value==="tutorial"?(l(),a("div",Ro,[D(oe)])):p("",!0)])])}}},er=B(Oo,[["__scopeId","data-v-2e7c72ef"]]);export{er as default};
